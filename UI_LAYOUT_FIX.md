# UI 布局修复说明

## 修复的问题

修复了数据预处理界面中滑块互相重合的问题。

## 修复详情

### 1. RawDataPlotter（原始数据清洗界面）

#### 修复前的问题
- Version 1 和 Version 2 使用相同的位置配置
- Version 2 有 6 个滑块，但位置参数只有 3 个不同的值
- 导致滑块重叠，无法正常使用

#### 修复后的布局

**Version 1（3个滑块）**：
```
位置布局（从左到右）：
[ECG STD]  [RPPG STD]  [RPPG BPM]  ........  [Accept] [Reject]
 5%         25%         45%                      81%     90%
```

**Version 2（6个滑块）**：
```
位置布局（从左到右）：
[ECG][RPPG][BPM][Red][IR][Green]  [Accept][Reject]
 2%  15%  28% 41% 54%  67%         81%     90%
```

#### 具体参数

| 滑块名称 | Version | 左边距 | 底边距 | 宽度 | 高度 |
|---------|---------|--------|--------|------|------|
| ECG STD | v1 | 5% | 5% | 15% | 4% |
| RPPG STD | v1 | 25% | 5% | 15% | 4% |
| RPPG BPM | v1 | 45% | 5% | 15% | 4% |
| ECG STD | v2 | 2% | 5% | 12% | 4% |
| RPPG STD | v2 | 15% | 5% | 12% | 4% |
| RPPG BPM | v2 | 28% | 5% | 12% | 4% |
| PPG Red STD | v2 | 41% | 5% | 12% | 4% |
| PPG IR STD | v2 | 54% | 5% | 12% | 4% |
| PPG Green STD | v2 | 67% | 5% | 12% | 4% |

### 2. CleanedDataPlotter（清洗后数据检查界面）

#### 优化前
按钮顺序不符合逻辑顺序

#### 优化后的布局
```
位置布局（从左到右）：
[Reverse]  [Accept]  [Reject]
  65%       76%       87%
```

按钮按照使用逻辑排列，更加直观。

## 技术改进

### 代码重构
修复前使用元组传递参数，导致：
- 参数含义不清晰
- Version 2 的位置参数重复

修复后使用命名参数：
```python
# 修复前
('ecg_std', 'ECG STD', 0.1, 0.5, 3.0, 1.5)
# 参数含义：(name, label, pos, vmin, vmax, vinit)

# 修复后  
('ecg_std', 'ECG STD', 0.02, 0.05, 0.12, 0.04)
# 参数含义：(name, label, left, bottom, width, height)
```

### 自适应布局
- Version 1：3个滑块，每个占 15% 宽度
- Version 2：6个滑块，每个占 12% 宽度
- 按钮统一占 8-10% 宽度

### 间距优化
- Version 1 滑块间距：20%
- Version 2 滑块间距：13%
- 所有控件保持一致的高度（4%）和底边距（5%）

## 视觉效果

### Version 1 界面
```
┌─────────────────────────────────────────────────────────────────────────┐
│                                                                         │
│  ECG Signal Plot                                                        │
│                                                                         │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  RPPG Signal Plot                                                       │
│                                                                         │
├─────────────────────────────────────────────────────────────────────────┤
│ [ECG STD]  [RPPG STD]  [RPPG BPM]              [Accept] [Reject]       │
└─────────────────────────────────────────────────────────────────────────┘
```

### Version 2 界面
```
┌─────────────────────────────────────────────────────────────────────────┐
│  ECG Signal Plot                                                        │
├─────────────────────────────────────────────────────────────────────────┤
│  RPPG Signal Plot                                                       │
├─────────────────────────────────────────────────────────────────────────┤
│  PPG Red Signal Plot                                                    │
├─────────────────────────────────────────────────────────────────────────┤
│  PPG IR Signal Plot                                                     │
├─────────────────────────────────────────────────────────────────────────┤
│  PPG Green Signal Plot                                                  │
├─────────────────────────────────────────────────────────────────────────┤
│[ECG][RPPG][BPM][Red][IR][Green]            [Accept][Reject]            │
└─────────────────────────────────────────────────────────────────────────┘
```

## 测试建议

1. **测试 Version 1**：
   - 检查 3 个滑块是否均匀分布
   - 检查滑块之间是否有足够间距
   - 确认可以正常拖动所有滑块

2. **测试 Version 2**：
   - 检查 6 个滑块是否均匀分布
   - 检查是否没有重叠
   - 确认每个滑块的标签清晰可读
   - 确认可以正常拖动所有滑块

3. **测试按钮**：
   - 检查按钮是否对齐
   - 检查按钮是否可点击
   - 确认按钮标签清晰

## 总结

✅ 修复了滑块重合问题
✅ 优化了按钮布局
✅ 改进了代码可读性
✅ 适配了不同版本的界面需求
✅ 保持了界面的一致性和美观性
